{"ast":null,"code":"import { db } from '../../config/firebase';\nimport { collection, getDocs } from 'firebase/firestore';\nimport { setCartItems, setIsProductsLoaded } from '../reducers/cartReducer';\nexport const addProductsToCart = (product, userId) => async dispatch => {\n  try {\n    const userCartRef = doc(db, 'carts', userId);\n    const cartDoc = await getDoc(userCartRef);\n    let updatedCart = [];\n    if (cartDoc.exists()) {\n      const existingCart = cartDoc.data().items || [];\n      const existingProductIndex = existingCart.findIndex(item => item.id === product.id);\n      if (existingProductIndex !== -1) {\n        existingCart[existingProductIndex].quantity += 1;\n        updatedCart = existingCart;\n      } else {\n        updatedCart = [...existingCart, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    } else {\n      updatedCart = [{\n        ...product,\n        quantity: 1\n      }];\n    }\n    await setDoc(userCartRef, {\n      items: updatedCart\n    });\n    dispatch(setCartItems(updatedCart));\n    toast.success(\"Product added to cart!\");\n  } catch (error) {\n    console.error(\"Error adding to cart: \", error);\n    toast.error(\"Failed to add product to cart\");\n  }\n};\nexport const removeProductFromCart = productId => async (dispatch, getState) => {\n  try {} catch (error) {}\n};","map":{"version":3,"names":["db","collection","getDocs","setCartItems","setIsProductsLoaded","addProductsToCart","product","userId","dispatch","userCartRef","doc","cartDoc","getDoc","updatedCart","exists","existingCart","data","items","existingProductIndex","findIndex","item","id","quantity","setDoc","toast","success","error","console","removeProductFromCart","productId","getState"],"sources":["C:/Users/wadhe/OneDrive/Desktop/study/complete placment/Redux/project/scaffold/src/redux/actions/cartActions.js"],"sourcesContent":["import { db } from '../../config/firebase';\r\nimport { collection, getDocs } from 'firebase/firestore';\r\nimport { setCartItems, setIsProductsLoaded } from '../reducers/cartReducer';\r\n\r\nexport const addProductsToCart = (product, userId) => async (dispatch) => {\r\n  try {\r\n    const userCartRef = doc(db, 'carts', userId);\r\n    const cartDoc = await getDoc(userCartRef);\r\n    let updatedCart = [];\r\n\r\n    if (cartDoc.exists()) {\r\n      const existingCart = cartDoc.data().items || [];\r\n      const existingProductIndex = existingCart.findIndex(item => item.id === product.id);\r\n\r\n      if (existingProductIndex !== -1) {\r\n        existingCart[existingProductIndex].quantity += 1;\r\n        updatedCart = existingCart;\r\n      } else {\r\n        updatedCart = [...existingCart, { ...product, quantity: 1 }];\r\n      }\r\n    } else {\r\n      updatedCart = [{ ...product, quantity: 1 }];\r\n    }\r\n\r\n    await setDoc(userCartRef, { items: updatedCart });\r\n    dispatch(setCartItems(updatedCart));\r\n    toast.success(\"Product added to cart!\");\r\n  } catch (error) {\r\n    console.error(\"Error adding to cart: \", error);\r\n    toast.error(\"Failed to add product to cart\");\r\n  }\r\n};\r\n\r\n  \r\n\r\nexport const removeProductFromCart = (productId) => async (dispatch, getState) => {\r\n  try {\r\n    \r\n  } catch (error) {\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,uBAAuB;AAC1C,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;AACxD,SAASC,YAAY,EAAEC,mBAAmB,QAAQ,yBAAyB;AAE3E,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,OAAO,EAAEC,MAAM,KAAK,MAAOC,QAAQ,IAAK;EACxE,IAAI;IACF,MAAMC,WAAW,GAAGC,GAAG,CAACV,EAAE,EAAE,OAAO,EAAEO,MAAM,CAAC;IAC5C,MAAMI,OAAO,GAAG,MAAMC,MAAM,CAACH,WAAW,CAAC;IACzC,IAAII,WAAW,GAAG,EAAE;IAEpB,IAAIF,OAAO,CAACG,MAAM,CAAC,CAAC,EAAE;MACpB,MAAMC,YAAY,GAAGJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,IAAI,EAAE;MAC/C,MAAMC,oBAAoB,GAAGH,YAAY,CAACI,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKf,OAAO,CAACe,EAAE,CAAC;MAEnF,IAAIH,oBAAoB,KAAK,CAAC,CAAC,EAAE;QAC/BH,YAAY,CAACG,oBAAoB,CAAC,CAACI,QAAQ,IAAI,CAAC;QAChDT,WAAW,GAAGE,YAAY;MAC5B,CAAC,MAAM;QACLF,WAAW,GAAG,CAAC,GAAGE,YAAY,EAAE;UAAE,GAAGT,OAAO;UAAEgB,QAAQ,EAAE;QAAE,CAAC,CAAC;MAC9D;IACF,CAAC,MAAM;MACLT,WAAW,GAAG,CAAC;QAAE,GAAGP,OAAO;QAAEgB,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC7C;IAEA,MAAMC,MAAM,CAACd,WAAW,EAAE;MAAEQ,KAAK,EAAEJ;IAAY,CAAC,CAAC;IACjDL,QAAQ,CAACL,YAAY,CAACU,WAAW,CAAC,CAAC;IACnCW,KAAK,CAACC,OAAO,CAAC,wBAAwB,CAAC;EACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9CF,KAAK,CAACE,KAAK,CAAC,+BAA+B,CAAC;EAC9C;AACF,CAAC;AAID,OAAO,MAAME,qBAAqB,GAAIC,SAAS,IAAK,OAAOrB,QAAQ,EAAEsB,QAAQ,KAAK;EAChF,IAAI,CAEJ,CAAC,CAAC,OAAOJ,KAAK,EAAE,CAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}